import{d as C,f as _,_ as m,N as v,r as c,ao as w,o as p,a as f,b as e,F as B,i as E,n as I,j as d,u as n,h as y,k as g,au as A,av as N,p as U,m as z,g as F,q as L}from"./index.db4b08e0.js";import{m as O}from"./mutation.640962a3.js";import{c as P}from"./TMessage.30ab47ac.js";const u=l=>(U("data-v-5d3cb081"),l=l(),z(),l),V={class:"fs-12 tpd-reply-section"},q={class:"mb-2 is-flex is-align-items-center is-justify-content-space-between"},G=u(()=>e("span",{class:"fw-600 fs-11"},"Template Balasan Otomatis",-1)),j={class:"list-reply-section"},D={class:"is-flex mt-2"},H=u(()=>e("span",{class:"fs-11 fw-600"},"Tambah Field",-1)),M={class:"is-flex mt-2"},K=u(()=>e("span",{class:"fs-11 fw-600"},"Simpan Template",-1)),$=C({__name:"TSettingReplySection",setup(l){const b=_({loader:()=>m(()=>import("./TSettingReplyRow.0286663e.js"),["assets/TSettingReplyRow.0286663e.js","assets/TSettingReplyRow.971b4598.css","assets/index.db4b08e0.js","assets/index.44fe606f.css","assets/Input.a8ee46ca.js","assets/use-locale.145fb545.js","assets/use-merged-state.119a85f6.js","assets/InputNumber.eb816da3.js"]),loadingComponent:v}),S=_({loader:()=>m(()=>import("./TSettingReplyHelp.d8993f5a.js"),["assets/TSettingReplyHelp.d8993f5a.js","assets/TSettingReplyHelp.bee3dc5c.css","assets/index.db4b08e0.js","assets/index.44fe606f.css"]),loadingComponent:v}),h=P(),a=c(!1),r=c(!1),t=c([]),k=()=>{t.value.push({delay:4,is_regex:!1,pola:"",reply:""})},R=()=>{O("addAutoReply","autoreply","POST",{active:!0,replies:t.value},null,{onSuccess:()=>h.info("Update sukses gan..."),onLoading:o=>r.value=o})};return w(()=>{N("getautoreply","autoreply","GET",null,null,{onSuccess:o=>{t.value=o.replies.map(s=>({...s}))}})}),(o,s)=>(p(),f("div",V,[e("div",q,[G,e("i",{onClick:s[0]||(s[0]=i=>a.value=!a.value),"data-title":"Klik untuk melihat bantuan",class:"is-clickable help-icon fs-11 bi bi-question-circle-fill ml-1"})]),e("div",{style:A({overflow:a.value?"visible":"hidden"}),class:"is-relative"},[e("div",j,[(p(!0),f(B,null,E(t.value,(i,T)=>(p(),F(n(b),{index:T,autoreplies:t.value,"onUpdate:autoreplies":s[1]||(s[1]=x=>t.value=x)},null,8,["index","autoreplies"]))),256))]),e("div",{class:I([a.value&&"help-section-active","help-section"])},[d(n(S),{"onUpdate:close":s[2]||(s[2]=i=>a.value=!i)})],2),e("div",D,[d(n(g),{focusable:!1,onClick:k,block:"",size:"small"},{default:y(()=>[H]),_:1})]),e("div",M,[d(n(g),{loading:r.value,disabled:!t.value.length,block:"",type:"primary",size:"small",onClick:R},{default:y(()=>[K]),_:1},8,["loading","disabled"])])],4)]))}});const Y=L($,[["__scopeId","data-v-5d3cb081"]]);export{Y as default};
