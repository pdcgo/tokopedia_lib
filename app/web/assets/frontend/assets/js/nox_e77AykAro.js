import{r as n,R as E,b as t,j as a,F as p,C as b,E as u,J as F}from"./nox_Xoteyeg77.js";import{d as R,D as V}from"./nox_pXgXQykrh.js";import{u as I}from"./nox_kgoAykAyg.js";import{L as r}from"./nox_h7etghetp.js";import{A as j,a as N}from"./nox_kArpetQrh.js";import{I as A}from"./nox_7gXQg7tpg.js";import{I as o}from"./nox_t7yeQkork.js";import{S as m}from"./nox_Akegrtygr.js";import{m as d}from"./nox_AooereQrA.js";import{R as Y}from"./nox_tkhX7oe7Q.js";import"./nox_gQoorppey.js";import"./nox_X7hXtoQek.js";import"./nox_hyort7QpX.js";import"./nox_AeyQgXoAt.js";import"./nox_kpkXAktho.js";import"./nox_yXyyh7pQk.js";import"./nox_X7hgpkkQe.js";function re(){const{sender:k}=I(),{sender:D}=I(),[g,_]=n.useState(""),f=E.createRef(),[y,M]=n.useState(0),[x,L]=n.useState(0),[w,O]=n.useState(""),[v,P]=n.useState(""),[h,T]=n.useState([R().subtract(30,"day"),R()]),[i,C]=n.useState([null,null]),[s,S]=n.useState([null,null]),z=()=>{N(g,f,e=>{d.warning({content:e,key:"warningvalidation"})},e=>{const l=e.filter(Boolean);k({method:"put",path:"tokopedia/deleter/setting",payload:{category_id:"",akuns:l,start_time:h[0].unix(),end_time:h[1].unix(),limit_concurent:y,limit_product:x,product_status:w,title:v.split(`
`).map(c=>c.trim()).filter(Boolean),...s[1]?{sold_filter:{max:s[1],min:s[0]||0}}:{},...i[1]?{view_filter:{max:i[1],min:i[0]||0}}:{}}},{onSuccess(){d.info("Running deleter..."),D({method:"put",path:"tokopedia/deleter/run_delete"},{onError(c){d.error(c.msg)}})},onError(c){d.error(c.msg)}})})};return t(b,{size:"small",title:"Tokopedia Product Deleter",children:a(p,{children:[t(j,{type:"info",message:"Format: username|password|otp_secret",showIcon:!0}),a(p,{children:[t(A.TextArea,{size:"large",autoSize:{minRows:24,maxRows:24},value:g,onChange:e=>_(e.target.value),ref:f}),t(b,{size:"small",type:"inner",title:"Filter",children:a(u,{style:{alignItems:"start"},children:[t(r,{style:{flex:1},label:"Filter Title (Regex Allowed) :",children:t(A.TextArea,{size:"large",autoSize:{minRows:13,maxRows:13},placeholder:`rokok herbal
obat pelangsing
regex-->obat|jamu|ramuan
                                    `,value:v,onChange:e=>P(e.target.value)})}),a(p,{style:{width:"50%"},children:[a(u,{style:{width:"100%"},children:[t(r,{style:{flex:1},label:"Limit Concurrent :",children:t(o,{style:{width:"100%"},placeholder:"10",value:y,onChange:e=>e&&M(e)})}),t(r,{style:{flex:1},label:"Limit Delete :",children:t(o,{style:{width:"100%"},placeholder:"10",value:x,onChange:e=>e&&L(e)})})]}),a(u,{style:{width:"100%"},children:[t(r,{style:{flex:1},label:"Sold :",children:a(u,{style:{alignItems:"center",columnGap:7},children:[t(o,{style:{width:"100%"},placeholder:"Min",value:s[0],onChange:e=>S(l=>[e,l[1]])}),"-",t(o,{style:{width:"100%"},placeholder:"Max",value:s[1],onChange:e=>S(l=>[l[0],e])})]})}),t(r,{style:{flex:1},label:"View :",children:a(u,{style:{alignItems:"center",columnGap:7},children:[t(o,{style:{width:"100%"},placeholder:"Min",value:i[0]||null,onChange:e=>C(l=>[e,l[1]])}),"-",t(o,{style:{width:"100%"},placeholder:"Max",value:i[1]||null,onChange:e=>C(l=>[l[0],e])})]})})]}),t(r,{label:"Product Status :",children:a(m,{value:w,onChange:O,defaultValue:"",children:[t(m.Option,{value:"",children:"All (No Status)"}),t(m.Option,{value:"ACTIVE",children:"Active"}),t(m.Option,{value:"VIOLATION",children:"Pelanggaran"}),t(m.Option,{value:"INACTIVE",children:"InActive"})]})}),t(r,{style:{flex:2},label:"Date Range :",children:t(V.RangePicker,{onChange:e=>{e!=null&&e[0]&&(e!=null&&e[1])&&T([e==null?void 0:e[0],e==null?void 0:e[1]])},format:"DD MMMM YYYY",value:h})}),t(F,{style:{backgroundColor:"#C2418D",boxShadow:"none",color:"#fff"},type:"primary",onClick:z,icon:t(Y,{rev:"run-delete"}),children:"Run Delete"})]})]})})]})]})})}export{re as default};
