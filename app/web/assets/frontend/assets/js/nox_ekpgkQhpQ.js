import{b as L}from"./nox_oXreoyXoy.js";import{r as U}from"./nox_Ao7tXQoge.js";L.defaults.baseURL="http://localhost:5000";const T=L.create({baseURL:"http://localhost:5000",timeout:3e4});function v(_,a){async function R(h,r){var S,f,g,b,E,l;try{const{data:c}=await T({method:h.method,data:h.payload,url:h.path,params:h.params,signal:r==null?void 0:r.signal});if(c!=null&&c.error){const m={error:c.error,msg:c.msg};(S=a==null?void 0:a.onError)==null||S.call(a,m),(f=r==null?void 0:r.onError)==null||f.call(r,m)}else(g=a==null?void 0:a.onSuccess)==null||g.call(a,c),(b=r==null?void 0:r.onSuccess)==null||b.call(r,c)}catch(c){const m={error:String(c),msg:"Unpredictable Error Type"};(E=a==null?void 0:a.onError)==null||E.call(a,m),(l=r==null?void 0:r.onError)==null||l.call(r,m)}}return{sender:R}}function z(_,a){const[R,h]=U.useState(!1),[r,S]=U.useState(null),[f,g]=U.useState(null);async function b(E,l){var c,m,w,x,k,q;h(!0);try{const{data:u}=await T({method:E.method,data:E.payload,url:E.path,params:E.params,signal:l==null?void 0:l.signal});if(u!=null&&u.error){const y={error:u.error,msg:u.msg};g(y),S(null),(c=a==null?void 0:a.onError)==null||c.call(a,y),(m=l==null?void 0:l.onError)==null||m.call(l,y)}else g(null),S(u),(w=a==null?void 0:a.onSuccess)==null||w.call(a,u),(x=l==null?void 0:l.onSuccess)==null||x.call(l,u)}catch(u){const y={error:String(u),msg:"Unpredictable Error Type"};S(null),g(y),(k=a==null?void 0:a.onError)==null||k.call(a,y),(q=l==null?void 0:l.onError)==null||q.call(l,y)}finally{h(!1)}return{pending:R,response:r,error:f}}return{sender:b,pending:R,response:r,error:f}}export{v as a,z as u};
