import{r as x,A as F,l as M,R as i,b as e,j as C,J as d,C as m,F as z,E as v}from"./nox_Xoteyeg77.js";import{L as D}from"./nox_h7etghetp.js";import{u as h}from"./nox_kgoAykAyg.js";import{T as u}from"./nox_kpkXAktho.js";import{S as H}from"./nox_Akegrtygr.js";import{M as S}from"./nox_gpXpAQgkA.js";import"./nox_gQoorppey.js";import"./nox_yXyyh7pQk.js";import"./nox_hyort7QpX.js";import"./nox_X7hXtoQek.js";import"./nox_AeyQgXoAt.js";import"./nox_X7hgpkkQe.js";var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"};const j=_;var L=function(n,s){return x.createElement(F,M({},n,{ref:s,icon:j}))};const R=x.forwardRef(L);function Q(a){const[n,s]=i.useState(!1),{sender:y,response:c,pending:b}=h(),{sender:f,response:r}=h(),{sender:k}=h(),w=i.useMemo(()=>c?c.map(t=>({value:t.name,label:t.name})):[],[c]);function E(t){k({method:"delete",path:"tokopedia/etalase_map/delete",params:{name:t}},{onSuccess(){var l;f({method:"get",path:"tokopedia/etalase_map/list_etalase"}),(l=a.refetchFn)==null||l.call(a)}})}return i.useEffect(()=>{n&&f({method:"get",path:"tokopedia/etalase_map/list_etalase"})},[n]),i.useEffect(()=>{const t=new AbortController,l=t.signal;return y({method:"get",path:"legacy/v1/product/namespace_all"},{signal:l,onSuccess(o){var p;const g=o[0];g&&((p=a.onChangeCollection)==null||p.call(a,g.name))}}),()=>{var o;t.abort(),(o=a.onChangeCollection)==null||o.call(a,"")}},[]),e(m,{size:"small",title:e(u.Text,{children:"Map Etalase From Collections"}),children:C(v,{style:{justifyContent:"space-between",alignItems:"flex-end"},children:[e(D,{label:"Collections :",children:e(H,{style:{width:"300px"},placeholder:"Choose collection",options:w,loading:b,value:a.collection,onChange:a.onChangeCollection})}),e(d,{onClick:()=>s(!0),children:"Delete Some Etalase"}),e(S,{width:420,footer:!1,closable:!1,open:n,onCancel:()=>s(!1),maskClosable:!0,centered:!0,children:e(m,{title:"Etalase's Name List",size:"small",type:"inner",extra:e(d,{size:"small",type:"link",onClick:()=>s(!1),children:"Back"}),children:r==null||!r.length?e("div",{css:{textAlign:"center"},children:e(u.Text,{type:"secondary",children:"No list available"})}):e("div",{style:{maxHeight:"300px",overflow:"auto"},children:e(z,{style:{paddingRight:3},children:r.sort((t,l)=>t.etalase.toLowerCase()<l.etalase.toLowerCase()?-1:0).map(t=>e(m,{css:{":hover":{cursor:"pointer"},"& button":{transition:"50ms ease !important",opacity:0},":hover button":{opacity:1}},size:"small",children:C(v,{style:{justifyContent:"space-between"},children:[e(u.Text,{children:t.etalase}),e(d,{ghost:!0,size:"small",onClick:()=>E(t.etalase),icon:e(R,{rev:"knkcsd"})})]})},t.etalase))})})})})]})})}export{Q as default};
